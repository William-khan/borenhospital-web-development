import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# =========================================================
# （1）手工编写科学合理的 10 个因子数据（无随机数）
# =========================================================

data = {
    "age":        [15, 16, 16, 17, 17, 16, 18, 15, 19, 17, 16, 18, 17, 16, 15, 18, 17, 16, 17, 19],
    "Medu":       [4, 3, 2, 3, 1, 2, 4, 3, 4, 1, 1, 2, 3, 2, 0, 4, 2, 2, 3, 1],
    "Fedu":       [3, 3, 2, 2, 1, 1, 4, 2, 4, 1, 1, 3, 3, 2, 0, 4, 2, 2, 3, 1],
    "studytime":  [3, 3, 2, 3, 1, 2, 4, 3, 4, 1, 1, 2, 3, 2, 1, 4, 2, 2, 3, 1],
    "failures":   [0, 0, 1, 0, 2, 1, 0, 0, 0, 2, 2, 1, 0, 1, 3, 0, 1, 1, 0, 2],
    "freetime":   [3, 3, 4, 2, 4, 3, 1, 5, 2, 4, 5, 3, 2, 3, 4, 1, 3, 4, 2, 5],
    "goout":      [3, 4, 4, 2, 5, 4, 1, 5, 2, 5, 5, 3, 2, 4, 5, 1, 3, 4, 2, 5],
    "Dalc":       [1, 1, 2, 1, 3, 2, 1, 3, 2, 3, 4, 2, 1, 2, 3, 1, 2, 3, 2, 4],
    "Walc":       [1, 2, 3, 2, 4, 3, 1, 5, 2, 4, 5, 3, 1, 3, 4, 1, 2, 4, 3, 5],
    "absences":   [2, 3, 6, 1, 8, 5, 2, 9, 3, 10, 12, 4, 1, 5, 11, 2, 4, 7, 3, 9]
}

df = pd.DataFrame(data)

# =========================================================
# （2）计算相关系数矩阵
# =========================================================
corr = df.corr()

# =========================================================
# （3）生成与你提供的图相同风格的热力图（深蓝–白–深红）
# =========================================================

plt.figure(figsize=(12, 9))

# RdBu_r = seaborn 中和你参考图几乎一模一样的红蓝配色
cmap = sns.color_palette("RdBu_r", as_cmap=True)

sns.heatmap(
    corr,
    cmap=cmap,
    vmin=-1,
    vmax=1,
    annot=True,
    fmt=".2f",
    linewidths=0.5,
    square=True,
    cbar_kws={"shrink": 0.8}
)

plt.title("Correlation Matrix of Student Factors (Handcrafted Scientific Data)", fontsize=16)
plt.tight_layout()
plt.show()
